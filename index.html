
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name="Description" content="专注于移动web的UI框架，基于手机QQ规范" />
    <meta name="Keywords" content="pratise，pratiseui，pratisejs，pratise ui，pratise js" />
    <meta name="author" content="Wright" />
    <link rel="icon" href="asset/img/bitbug_favicon.ico">

    <title>Pratise - 专注于移动前端 UI</title>

    <!-- Bootstrap core CSS -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="asset/dashboard.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="asset/js/ie-emulation-modes-warning.js"></script>
    <script src="bower_components/jquery/dist//jquery.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script type="text/javascript" src = "statics/sea-modules/seajs/seajs/2.2.3/sea.js"></script>
    <script>
       var $ = jQuery;
        seajs.config({
          base: "static/sea-modules/",
          alias: {
            
            "$": "jquery",
            "sticky":"sticky",
            "side":"side",
            "handlebars": "handlebars"
          }
        });
        seajs.use(['sticky','side'], function(Sticky,Side) {
            Side.init();
            if(document.body.clientWidth>980){
                Sticky('.nav-sidebar', 20);
            }
            
        });
    </script>
  </head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">前端练习</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://github.com/ClearRipples/pratise/tree/master">View On GitHub</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            <li class="active"><a href="#">关于 Pratise <span class="sr-only">(current)</span></a></li>
            <li><a href="#">按钮 button</a></li>
            <li><a href="#">辅助类 atom</a></li>
            <li><a href="#">搜索框 searchbar</a></li>
            <li><a href="#">选项卡 tab</a></li>
            <li><a href="#">图片轮播 slider</a></li>
            <li><a href="#">列表 list</a></li>
            <li><a href="#">表单项 form</a></li>
            <li><a href="#">表格 table</a></li>
            <li><a href="#">弹窗 dialog</a></li>
            <li><a href="#">通知 notice</a></li>
            <li><a href="#">提示 tips</a></li>
            <li><a href="#">加载中 loading</a></li>
            <li><a href="#">网格 grid</a></li>
            <li><a href="#">进度条 progress</a></li>
          </ul>
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          <script id="list-tpl" type="text/x-handlebars-template"> 
            {{#each list}}
            <li {{#unless child}} data-id="{{name}}" {{/unless}}>
                <a href="#modules-{{name}}" >{{title}}</a>
                {{#if child}}
                <ul class="nav">
                {{#each child}}
                    <li data-id="{{name}}"><a href="#modules-{{name}}">{{name}}</a></li>
                {{/each}}
                </ul>
                {{/if}}
            </li>
            {{/each}}
          </script>

          <script type="text/template" id = "pratise-module">
            <div class="pratise-module row">
              <div class="pratise-module-head">
                <div class="pratise-module-title">
                  <a href="#"></a>
                </div>
              </div>
            <div>
          </script>

            <script type="text/template" id="pratise-module-demo">
              <div class="pratise-module-demo">
                  <h3 class="pratise-module-subtitle"></h3>
                  <div class="pratise-module-dom"></div>
                  <pre class="pratise-module-code"></pre>
              </div>
            </script>

          <div class="pratise-modules"></div>

          <script type="text/javascript">
             seajs.use(['$','handlebars','/static/side','gallery/underscore/1.6.0/underscore'], function($,Handlebars, Side, _) {
              //用jquery获取模板
              var tpl   =  $("#list-tpl").html();
              //预编译模板
              var template = Handlebars.compile(tpl);
              //模拟json数据
              var context = { 
                  list:[
                      {
                          name: "ui-btn",
                          title: "按钮 button",
                          child:[
                              {
                                  name: "ui-btn"
                              },
                              {
                                  name: "ui-btn-lg" 
                              },
                              {
                                  name: "ui-btn-group" 
                              }
                          ]
                      },
                      {
                          name: "atom",
                          title: "辅助类 atom"
                      },
                      {
                          name: "ui-searchbar",
                          title: "搜索框 searchbar"
                      },
                      {
                          name: "ui-tab",
                          title: "选项卡 tab"
                      },
                      {
                          name: "ui-slider",
                          title: "图片轮播 slider"
                      },
                      {
                          name:"ui-list",
                          title: "列表 list"
                      },
                      {
                          name:"ui-form",
                          title: "表单项 form",
                          child: [
                              {
                                  name: "ui-form"
                              },
                              {
                                  name: "ui-checkbox" 
                              },
                              {
                                  name: "ui-switch" 
                              },
                              {
                                  name: "ui-radio"
                              }
                          ]
                      },
                      {
                          name:"ui-table",
                          title: "表格 table"
                      },
                      {
                          name:"ui-dialog",
                          title: "弹窗 dialog"
                      },
                      {
                          name:"ui-notice",
                          title: "通知 notice"
                      },
                      {
                          name:"ui-tips",
                          title: "提示 tips",
                          child: [
                              {
                                  name: "ui-tips"
                              },
                              {
                                  name: "ui-poptips" 
                              },
                              {
                                  name: "ui-tooltips" 
                              }
                          ]
                      },
                      {
                          name:"ui-loading",
                          title: "加载中 loading"
                      },
                      {
                          name:"ui-grid",
                          title: "网格 grid"
                      },
                      {
                          name:"ui-progress",
                          title: "进度条 progress"
                      }                    
                  ]
              };
              //匹配json内容
              $('.nav-sidebar').html(template(context));

              var deps = $('.side-area li[data-id]');
              _.each(deps, function(dep) {
                  var moduleNode = $($('#pratise-module').html());
                  moduleNode.find('.pratise-module-title a')
                      .attr('href', $(dep).data('id'))
                      .attr('id', 'modules-' + $(dep).data('id'))
                      .html($(dep).data('id'));
                  moduleNode.appendTo('.pratise-modules');
                  $.ajax({
                      url:  $(dep).data('id'),
                      dataType: 'html',
                      success: function(data) {
                          data = $(data);
                          moduleNode.find('.pratise-module-description')
                              .html(data.find('.entry-content > p:first-child').html());
                          data.find('.nico-insert-code').each(function(index, item) {
                              var demoNode = $($('#pratise-module-demo').html());
                              item = $(item);
                              var subtitle = item.prev().html();
                              if (item.prev()[0].tagName !== 'H3' || !subtitle) {
                                  subtitle = '默认';
                              }
                              demoNode.find('.pratise-module-subtitle').html(subtitle);
                              demoNode.find('.pratise-module-dom').html(item.html());

                              // 直接使用目标页面生成的高亮代码，不再动态渲染
                              var codeHtml = item.next('.highlight').find('pre').html();
                              demoNode.find('.pratise-module-code').html(codeHtml);

                              moduleNode.find('.pratise-loading').remove();
                              demoNode.appendTo(moduleNode);
                          });
                      }
                  });
              }); 
              Side.init();
          });
          </script>

        </div>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="bower_components/bootstrap/dist//js/bootstrap.min.js"></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="asset/js/vendor/holder.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="asset/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
